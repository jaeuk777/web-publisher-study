<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>ES6 - EcmaScript </h1>
    <script>
        //[1] 상수, 변수 (const, let)
        const PI=3.1415
        document.write(PI, "<br>");
        // PI=100;
        document.write(PI, "<br>");
        let num=200;
        document.write(num, "<br>");
        num=300;
        document.write(num, "<br>")
        // scope : block범위
        // var : 함수 범위
        var count=10; // 전역변수
        if(count>0) {
            const total = count*2; //total if블럭내부까지 사용 가능
            document.write(`tatal:`, total, "<br>")
        };
        // document.write(`tatal:`, total) // 사용 불가능
        function foo() {
            var x=100; // 지역변수
            document.write(x, "<br>")
        }
        foo();
        // document.write(x, "<br>")
        
        const bar = ()=>{
            document.write(`bar()함수`)
            let y=`Hello`; // bar함수내에서 사용 가능
            // document.write(`<div style="color:red;">${y}</div>`)
            document.write(`y: `, y,`<br>`)
        }
        let demo = ()=>{
            document.write(`demo()함수`, `<br>`)
        }
        bar();
        demo(); 

        //
        let name=`홍길동`;
        let age=22;
        // document.write(`이름: `+name+`, 나이: `+age,`<br>`)
        // 템플릿 리터럴 사용 `${변수}`
        document.write(`이름: ${name}, 나이: ${age}<br>`)
        // hello();
        // 화살표 함수
        function hello(){
            alert(`hello`)
        }
        //hello();
        //리터럴 방식
        // hi(); //hoisting이 지원되지 않음
        const hi = function(){
            alert(`hi`)
        }
        // hi();
        const bye = (name)=> {
            alert('Bye~~');
        }
        // bye();
        const bye2 = name => alert('Bye Bye~~');
        // bye2();
        // 매개변수가 2개 이상일 떄는 소괄호롤 감싸준다
        const plus = (a, b)=> {
            return a+b;
        }
        document.write(plus(10,30), '<br>');
        const multiply = (a, b) => a*b; //return은 생략 가능
        document.write(multiply(3,4), '<br>')

        // 구조분해 할당
        // 객체나 배열을 분해해서 변수에 할당하는 방식
        const person = {
            name:'이선희',
            age:'23',
            heigth:167
        }
        //person의 정보를 템플릿 리터럴을 이용해 출력해보세요
        document.write(`<h3>${person.name}, ${person.age}, ${person.heigth}</h3>`)

        const {name:nm, age:ag, heigth} = person; // 객체명 (:) 을 붙이면 별명을 지어줄수 있다.
        document.write(`<h3>${nm}, ${ag}, ${heigth}</h3>`)

        let arr=[1,2,3,4]
        document.write(arr[0], arr[1], `<br>`)
        let [n1,n2,n3,n4] =arr;
        document.write(`${n1}, ${n2}, ${n3}, ${n4} <br>`)
        // 일부 요소만 할당
        let [m, k]=arr;
        document.write(`m=${m}, k=${k},<br>`);

        let [first, ... rest] =arr;
        document.write(`<h3>first: ${first}, rest: ${rest}</h3>`)

        // 중첩 객체 구조 분해
        const user={
            id:1,
            profile:{
                firstName: 'Alice',
                lastName: 'Kim'
            }
        }
        // id를 구조분해 할당으로 받아 출력하기
        const {id} = user;
        document.write(`<h3> id: ${id}</h3>`);
        const {profile} = user;
        document.write(`<h3>${profile.firstName},</h3>`)

        const {
            profile: {
                firstName,
                lastName
            }
        } = user;
        document.write(`<h3>${firstName},${lastName},</h3>`)

        // 함수 내에서 매개변수 구조분해
        let user1={
            no:1,
            userid:'hong'
        }
        function greeting(no, uid) {
            alert(no+"번 "+uid+"님");
        }
        // greeting(9, 'kim');
        const greeting2 =({no, userid})=> {
            alert(`Hi? ${no}번 ${userid}님`);
        }
        // greeting2(user1);

        //spread 연산자 : ...
        let arr1 = [1,2,3]
        let arr2 = [... arr1]

        document.write(`${arr1}<br>`)
        document.write(`${arr2}`, `<br>`)
        arr2.push(100); //arr2에 추가

        document.write(`${arr1}<br>`)
        document.write(`${arr2}`, `<br>`)

        let arr3=[100,200, ...arr1, 300];
        document.write(`arr3: ${arr3}<br>`)

        let obj1 = {a:1, b:2}
        let obj2 = {...obj1};
        document.write(`${obj1.a}, ${obj1.b}<br>`);
        const {a, b} = obj2;
        document.write(`${a}, ${b}`);
        let obj3 = {c:3, d:4};
        let merge ={...obj1, ...obj3};
        console.log(merge);

        let str=`Hello React`; //문자열
        let str2=[... str]; // 문자 배열
        document.write(`<h3>${str}</h3>`)
        document.write(`<h3>${str2}</h3>`)
        let str3 = str2.join('')
        // 배열 요소들을 구분자를 붙여 하나의 문자열로 만들어준다
        document.write(str3);
    </script>
</body>
</html>